{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Images.vue?6a09","webpack:///./src/App.vue?6a71","webpack:///./src/components/Images.vue?70a9","webpack:///src/components/Images.vue","webpack:///./src/components/Images.vue?1bf6","webpack:///./src/components/Images.vue","webpack:///./src/components/GLSLCanvasContainer.vue?837b","webpack:///./src/components/GLSLCanvas.vue?3a13","webpack:///src/components/GLSLCanvas.vue","webpack:///./src/components/GLSLCanvas.vue?236b","webpack:///./src/components/GLSLCanvas.vue","webpack:///src/components/GLSLCanvasContainer.vue","webpack:///./src/components/GLSLCanvasContainer.vue?c392","webpack:///./src/components/GLSLCanvasContainer.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/App.vue?995e","webpack:///./src/components/GLSLCanvasContainer.vue?e3b6"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","items","staticRenderFns","style","backgroundImage","oldIndex","ref","class","anim","isAnimate","index","props","Array","mounted","setTimeout","$refs","foregroundImage","addEventListener","methods","changeImage","component","canvasSize","vertexShader","fragmentShader","currentImage","canvasWidth","canvasHeight","components","size","type","required","String","quality","Number","default","activeExternalResources","gl","startTime","animationTimer","mouse","x","y","currentVertexShader","currentFragmentShader","currentProgram","frontTarget","backTarget","activeTextures","texturePromises","screenProgram","screenPositionAttributeLocation","v","f","initGLSLCanvas","Date","now","initGL","compileScreenProgram","createRenderTargets","getExtension","console","log","getGL","canvas","getContext","preserveDrawingBuffer","animate","requestAnimationFrame","updateCanvas","width","height","stopAnimate","cancelAnimationFrame","forceCreateProgram","createProgram","updateTextures","useProgram","viewport","enable","CULL_FACE","DEPTH_TEST","bindBuffer","ARRAY_BUFFER","vbo","bufferData","enableVertexAttribArray","positionAttributeLocation","vertexAttribPointer","uniform2f","resolutionLocation","uniform1f","timeLocation","time","mouseLocation","uniform1i","backbufferLocation","activeTexture","TEXTURE0","bindTexture","TEXTURE_2D","texture","TEXTURE1","bindFramebuffer","FRAMEBUFFER","framebuffer","clearColor","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","drawArrays","TRIANGLES","positions","resolutionLocation2","textureLocation","tmp","createShader","shader","shaderSource","source","compileShader","success","getShaderInfoLog","errorLog","errors","errorLine","parseInt","match","message","FRAGMENT_SHADER","$emit","deleteShader","hasError","loadTextures","externalResource","loadTexture","loadBlankTexture","pixelStorei","UNPACK_FLIP_Y_WEBGL","texImage2D","url","image","crossOrigin","src","initalSize","program","attachShader","linkProgram","getProgramInfoLog","deleteProgram","createFramebufferTarget","createFramebuffer","renderbuffer","createRenderbuffer","createTexture","target","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MAG_FILTER","NEAREST","TEXTURE_MIN_FILTER","framebufferTexture2D","bindRenderbuffer","RENDERBUFFER","renderbufferStorage","framebufferRenderbuffer","vs","fs","getProgramParameter","LINK_STATUS","getAttribLocation","onMousemove","root","e","pageX","left","pageY","top","onWebglcontextlost","event","preventDefault","onWebglcontextrestored","computed","watch","beforeDestroy","removeEventListener","images","onWindowResized","setInterval","VERTEX_SHADER_SOURCE","FRAGMENT_SHADER_SOURCE","glslCanvasContainer","clientWidth","clientHeight","useStaticImages","fetchCount","searchCondition","blue","query","color","lr","yellow","green","Vue","config","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.ace13c64.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Images.vue?vue&type=style&index=0&id=4f977490&scoped=true&lang=stylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app\",attrs:{\"id\":\"app\"}},[(_vm.useStaticImages)?_c('Images',{attrs:{\"items\":_vm.items}}):_c('GLSLCanvasContainer',{attrs:{\"images\":_vm.items}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"images\"},[_c('div',{staticClass:\"imageItem\",style:({ backgroundImage: (\"url(\" + (_vm.items[_vm.oldIndex]) + \")\") })}),_c('div',{ref:\"foregroundImage\",staticClass:\"imageItem foregroundImage\",class:{ anim: _vm.isAnimate },style:({ backgroundImage: (\"url(\" + (_vm.items[_vm.index]) + \")\") })})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"images\">\n    <div class=\"imageItem\" :style=\"{ backgroundImage: `url(${items[oldIndex]})` }\"></div>\n    <div ref=\"foregroundImage\" class=\"imageItem foregroundImage\"\n         :class=\"{ anim: isAnimate }\"\n         :style=\"{ backgroundImage: `url(${items[index]})` }\"></div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Images',\n  props: {\n    items: Array\n  },\n  data() {\n    return {\n      index: 0,\n      oldIndex: 0,\n      isAnimate: false\n    }\n  },\n  mounted() {\n    setTimeout(() => {\n      this.isAnimate = true\n      this.changeImage()\n    }, 1000)\n\n    this.$refs.foregroundImage.addEventListener('transitionend', () => {\n      this.oldIndex = this.index\n      this.isAnimate = false\n      this.changeImage()\n\n      setTimeout(() => {\n        this.isAnimate = true\n      }, 500)\n    });\n  },\n  methods: {\n    changeImage() {\n      this.index++\n      if (this.index >= this.items.length) {\n        this.index = 0\n      }\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"stylus\">\n.images\n  .imageItem\n    position fixed\n    width 100%\n    height 100%\n    background-size cover\n    background-position center\n    filter blur(30px)\n\n    &.foregroundImage\n      opacity 0\n\n      &.anim\n        transition opacity 5.0s linear\n        opacity 1\n\n  img\n    position fixed\n    width 100%\n    height 100%\n    object-fit contain\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Images.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Images.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Images.vue?vue&type=template&id=4f977490&scoped=true&\"\nimport script from \"./Images.vue?vue&type=script&lang=js&\"\nexport * from \"./Images.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Images.vue?vue&type=style&index=0&id=4f977490&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f977490\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"glslCanvasContainer\",staticClass:\"glslCanvasContainer\"},[_c('GLSLCanvas',{attrs:{\"size\":_vm.canvasSize,\"vertex-shader\":_vm.vertexShader,\"fragment-shader\":_vm.fragmentShader,\"active-external-resources\":_vm.currentImage,\"quality\":2}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('canvas',{ref:\"canvas\",staticClass:\"glslCanvas\",attrs:{\"width\":_vm.canvasWidth,\"height\":_vm.canvasHeight}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <canvas\r\n    ref=\"canvas\"\r\n    class=\"glslCanvas\"\r\n    :width=\"canvasWidth\"\r\n    :height=\"canvasHeight\"\r\n  ></canvas>\r\n</template>\r\n\r\n<script>\r\n\r\nconst GLSL_ERROR_PATTERN = /^ERROR: \\d+:(\\d+):\\s(.*)$/gm;\r\n\r\nexport default {\r\n  name: 'GLSLCanvas',\r\n  components: {},\r\n  props: {\r\n    size: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    vertexShader: {\r\n      type: String,\r\n      required:true\r\n    },\r\n    fragmentShader: {\r\n      type: String,\r\n      required:true\r\n    },\r\n    quality: {\r\n      type: Number,\r\n      default:1\r\n    },\r\n    activeExternalResources: {\r\n      type: String,\r\n      default: \"\"\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      gl:  null,\r\n      startTime: 0,\r\n      animationTimer: 0,\r\n      mouse: {\r\n        x: 0,\r\n        y: 0\r\n      },\r\n      currentVertexShader: null,\r\n      currentFragmentShader: null,\r\n      currentProgram: null,\r\n      frontTarget: null,\r\n      backTarget: null,\r\n      activeTextures: [],\r\n      texturePromises: {},\r\n      screenProgram: null,\r\n      screenPositionAttributeLocation: 0,\r\n\r\n      v: `attribute vec3 position;\r\n        void main(){\r\n            gl_Position = vec4(position, 1.0);\r\n        }`,\r\n\r\n      f: `precision mediump float;\r\n        uniform vec2 resolution;\r\n        uniform sampler2D texture;\r\n        void main(){\r\n            vec2 uv = gl_FragCoord.xy / resolution.xy;\r\n            gl_FragColor = texture2D(texture, uv);\r\n        }`\r\n    }\r\n  },\r\n  methods: {\r\n    initGLSLCanvas() {\r\n      this.gl = null;\r\n      this.currentVertexShader = null;\r\n      this.currentFragmentShader = null;\r\n      this.currentProgram = null;\r\n      this.startTime = Date.now();\r\n\r\n      const gl = this.getGL();\r\n\r\n      this.initGL(gl);\r\n      this.compileScreenProgram(gl);\r\n      this.createRenderTargets(gl);\r\n    },\r\n    initGL(gl) {\r\n      if (!gl.getExtension(\"OES_standard_derivatives\")) {\r\n        console.log(\"OES_standard_derivatives is not supported.\");\r\n      }\r\n    },\r\n    getGL() {\r\n      if (!this.gl) {\r\n        this.gl = this.canvas.getContext(\"experimental-webgl\", {\r\n          preserveDrawingBuffer: true\r\n        })\r\n      }\r\n      return this.gl\r\n    },\r\n    animate() {\r\n      this.animationTimer = requestAnimationFrame(this.animate);\r\n\r\n      if (this.gl) {\r\n        this.updateCanvas(this.gl, false, {\r\n          width: this.canvasWidth,\r\n          height: this.canvasHeight\r\n        });\r\n      }\r\n    },\r\n    stopAnimate() {\r\n      if (this.animationTimer) {\r\n        cancelAnimationFrame(this.animationTimer);\r\n      }\r\n    },\r\n    updateCanvas(gl, forceCreateProgram = false, canvasSize) {\r\n      if (!this.currentProgram || forceCreateProgram) {\r\n        const vertexShaderSource = this.vertexShader;\r\n        const fragmentShaderSource = this.fragmentShader;\r\n        const vertexShader = this.createShader(\r\n          gl,\r\n          gl.VERTEX_SHADER,\r\n          vertexShaderSource\r\n        );\r\n        const fragmentShader = this.createShader(\r\n          gl,\r\n          gl.FRAGMENT_SHADER,\r\n          fragmentShaderSource\r\n        );\r\n\r\n        if (!vertexShader || !fragmentShader) {\r\n          // Could not compile program but never return here not to stop current shader.\r\n        } else {\r\n          this.currentVertexShader = vertexShader;\r\n          this.currentFragmentShader = fragmentShader;\r\n        }\r\n        if (this.currentVertexShader && this.currentFragmentShader) {\r\n          this.currentProgram = this.createProgram(\r\n            gl,\r\n            this.currentVertexShader,\r\n            this.currentFragmentShader\r\n          );\r\n        }\r\n        if (this.activeExternalResources) {\r\n          this.updateTextures(gl);\r\n        }\r\n\r\n        console.log(\"Program was created.\");\r\n      }\r\n\r\n      if (!this.frontTarget || !this.backTarget) {\r\n        return;\r\n      }\r\n      if (!this.currentProgram || !this.screenProgram) {\r\n        console.log(\"Program should not be null.\");\r\n        return;\r\n      }\r\n\r\n      gl.useProgram(this.currentProgram);\r\n\r\n      gl.viewport(0, 0, canvasSize.width, canvasSize.height);\r\n\r\n      gl.enable(gl.CULL_FACE);\r\n      gl.enable(gl.DEPTH_TEST);\r\n\r\n      const positions = [\r\n        -1.0,\r\n        -1.0,\r\n        1.0,\r\n        -1.0,\r\n        -1.0,\r\n        1.0,\r\n        1.0,\r\n        -1.0,\r\n        1.0,\r\n        1.0,\r\n        -1.0,\r\n        1.0\r\n      ];\r\n\r\n      // position\r\n      const vbo = gl.createBuffer();\r\n      gl.bindBuffer(gl.ARRAY_BUFFER, vbo);\r\n      gl.bufferData(\r\n        gl.ARRAY_BUFFER,\r\n        new Float32Array(positions),\r\n        gl.STATIC_DRAW\r\n      );\r\n\r\n      const positionAttributeLocation = gl.getAttribLocation(\r\n        this.currentProgram,\r\n        \"position\"\r\n      );\r\n      gl.enableVertexAttribArray(positionAttributeLocation);\r\n\r\n      const size = 2; // xy\r\n      const type = gl.FLOAT;\r\n      const normalize = false;\r\n      const stride = 0;\r\n      const offset = 0;\r\n      gl.vertexAttribPointer(\r\n        positionAttributeLocation,\r\n        size,\r\n        type,\r\n        normalize,\r\n        stride,\r\n        offset\r\n      );\r\n\r\n      // resolution\r\n      const resolutionLocation = gl.getUniformLocation(\r\n        this.currentProgram,\r\n        \"resolution\"\r\n      );\r\n      gl.uniform2f(resolutionLocation, canvasSize.width, canvasSize.height);\r\n\r\n      // time\r\n      const timeLocation = gl.getUniformLocation(this.currentProgram, \"time\");\r\n      const time = (Date.now() - this.startTime) / 1000;\r\n      gl.uniform1f(timeLocation, time);\r\n\r\n      // mouse\r\n      const mouseLocation = gl.getUniformLocation(\r\n        this.currentProgram,\r\n        \"mouse\"\r\n      );\r\n      gl.uniform2f(mouseLocation, this.mouse.x, this.mouse.y);\r\n\r\n      // backbuffer\r\n      const backbufferLocation = gl.getUniformLocation(\r\n        this.currentProgram,\r\n        \"backbuffer\"\r\n      );\r\n\r\n      gl.uniform1i(backbufferLocation, 0);\r\n      gl.activeTexture(gl.TEXTURE0);\r\n      gl.bindTexture(gl.TEXTURE_2D, this.backTarget.texture);\r\n\r\n      // textures\r\n      for (let i = 0; i < this.activeTextures.length; i++) {\r\n        const uniformName = `channel${i}`;\r\n        const textureLocation = gl.getUniformLocation(\r\n          this.currentProgram,\r\n          uniformName\r\n        );\r\n\r\n        const uniformSizeName = `channelSize${i}`;\r\n        const textureResolutionLocation = gl.getUniformLocation(\r\n          this.currentProgram,\r\n          uniformSizeName\r\n        );\r\n\r\n        const activeSize =\r\n          this.activeTextures[i].size === undefined\r\n            ? { width: 1, height: 1 }\r\n            : this.activeTextures[i].size;\r\n\r\n        gl.uniform2f(\r\n          textureResolutionLocation,\r\n          activeSize.width,\r\n          activeSize.height\r\n        );\r\n\r\n        gl.uniform1i(textureLocation, 1 + i);\r\n        gl.activeTexture(gl.TEXTURE1 + i);\r\n        gl.bindTexture(gl.TEXTURE_2D, this.activeTextures[i].texture);\r\n      }\r\n\r\n      gl.bindFramebuffer(gl.FRAMEBUFFER, this.frontTarget.framebuffer);\r\n\r\n      gl.clearColor(0, 0, 0, 0);\r\n      gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n      gl.drawArrays(gl.TRIANGLES, 0, positions.length / 2);\r\n\r\n      gl.useProgram(this.screenProgram);\r\n\r\n      const resolutionLocation2 = gl.getUniformLocation(\r\n        this.screenProgram,\r\n        \"resolution\"\r\n      );\r\n      gl.uniform2f(resolutionLocation2, canvasSize.width, canvasSize.height);\r\n      const textureLocation = gl.getUniformLocation(\r\n        this.screenProgram,\r\n        \"texture\"\r\n      );\r\n      gl.uniform1i(textureLocation, 1);\r\n\r\n      gl.bindBuffer(gl.ARRAY_BUFFER, vbo);\r\n      gl.vertexAttribPointer(\r\n        this.screenPositionAttributeLocation,\r\n        2,\r\n        gl.FLOAT,\r\n        false,\r\n        0,\r\n        0\r\n      );\r\n\r\n      gl.activeTexture(gl.TEXTURE1);\r\n      gl.bindTexture(gl.TEXTURE_2D, this.frontTarget.texture);\r\n\r\n      gl.bindFramebuffer(gl.FRAMEBUFFER, null);\r\n      gl.clearColor(0, 0, 0, 0);\r\n      gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n      gl.drawArrays(gl.TRIANGLES, 0, positions.length / 2);\r\n\r\n      // swap buffers\r\n      const tmp = this.frontTarget;\r\n      this.frontTarget = this.backTarget;\r\n      this.backTarget = tmp;\r\n\r\n      console.log(\"updateCanvas\");\r\n    },\r\n    createShader(gl, type, source) {\r\n      const shader = gl.createShader(type);\r\n      if (!shader) {\r\n        console.log(\"error: WebGLShader is null.\");\r\n        return null;\r\n      }\r\n      gl.shaderSource(shader, source);\r\n      gl.compileShader(shader);\r\n\r\n      const success = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\r\n\r\n      if (!success) {\r\n        console.log(gl.getShaderInfoLog(shader));\r\n\r\n        const errorLog = gl.getShaderInfoLog(shader);\r\n\r\n        // Extract error messages from errorLog\r\n        const errors = [];\r\n        if (errorLog) {\r\n          let match;\r\n          while ((match = GLSL_ERROR_PATTERN.exec(errorLog))) {\r\n            errors.push({\r\n              errorLine: parseInt(match[1], 10) - 1,\r\n              // Subtract 1 from errorLine since first index becomes 1.\r\n              type: 4,\r\n              message: match[2]\r\n            });\r\n          }\r\n        }\r\n\r\n        if (type === gl.FRAGMENT_SHADER) {\r\n          this.$emit(\"onErrorLineUpdated\", errors);\r\n        }\r\n\r\n        gl.deleteShader(shader);\r\n        return null;\r\n      }\r\n\r\n      // When errors are fixed\r\n      if (this.hasError) {\r\n        if (type === gl.FRAGMENT_SHADER) {\r\n          this.$emit(\"onErrorLineUpdated\", []);\r\n        }\r\n      }\r\n\r\n      return shader;\r\n    },\r\n    // added for testing image loading from store\r\n    updateTextures(gl) {\r\n      this.texturePromises = {};\r\n      this.loadTextures(gl, this.activeExternalResources);\r\n    },\r\n    loadTextures(gl, externalResource) {\r\n      this.activeTextures = [];\r\n      if (!externalResource) {\r\n        this.loadBlankTexture(gl, 0);\r\n      } else {\r\n        this.loadTexture(gl, externalResource, 0);\r\n      }\r\n    },\r\n    loadBlankTexture(gl, index) {\r\n      if (!gl) {\r\n        return;\r\n      }\r\n      const texture = gl.createTexture();\r\n      gl.bindTexture(gl.TEXTURE_2D, texture);\r\n\r\n      gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\r\n\r\n      const level = 0;\r\n      const internalFormat = gl.RGBA;\r\n      const width = 1;\r\n      const height = 1;\r\n      const border = 0;\r\n      const srcFormat = gl.RGBA;\r\n      const srcType = gl.UNSIGNED_BYTE;\r\n      const pixel = new Uint8Array([0, 0, 55, 255]); // blank texture is currently dark-blue, open to change\r\n\r\n      const size = {\r\n        width: 1,\r\n        height: 1\r\n      };\r\n\r\n      gl.texImage2D(\r\n        gl.TEXTURE_2D,\r\n        level,\r\n        internalFormat,\r\n        width,\r\n        height,\r\n        border,\r\n        srcFormat,\r\n        srcType,\r\n        pixel\r\n      );\r\n\r\n      if (texture) {\r\n        this.activeTextures[index] = {\r\n          texture,\r\n          size\r\n        };\r\n      }\r\n    },\r\n    // liberal use of https://docs.w3cub.com/dom/webgl_api/tutorial/using_textures_in_webgl/\r\n    loadTexture(gl, externalResource, index) {\r\n      if (!gl) {\r\n        return;\r\n      }\r\n\r\n      const url = externalResource;\r\n\r\n      console.log(\"loading texture\", url);\r\n\r\n      const texture = gl.createTexture();\r\n      gl.bindTexture(gl.TEXTURE_2D, texture);\r\n\r\n      gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\r\n\r\n      const level = 0;\r\n      const internalFormat = gl.RGBA;\r\n      const width = 1;\r\n      const height = 1;\r\n      const border = 0;\r\n      const srcFormat = gl.RGBA;\r\n      const srcType = gl.UNSIGNED_BYTE;\r\n      const pixel = new Uint8Array([0, 0, 55, 255]); // opaque blue\r\n      gl.texImage2D(\r\n        gl.TEXTURE_2D,\r\n        level,\r\n        internalFormat,\r\n        width,\r\n        height,\r\n        border,\r\n        srcFormat,\r\n        srcType,\r\n        pixel\r\n      );\r\n\r\n      const image = new Image();\r\n      image.crossOrigin = \"Anonymous\";\r\n      image.src = url;\r\n\r\n      const initalSize = {\r\n        width: 1,\r\n        height: 1\r\n      };\r\n\r\n      if (texture) {\r\n        this.activeTextures[index] = {\r\n          texture,\r\n          size: initalSize\r\n        };\r\n      }\r\n\r\n      this.texturePromises[`key_${index}`] = new Promise(\r\n        (resolve, reject) => {\r\n          image.onload = () => {\r\n            gl.bindTexture(gl.TEXTURE_2D, texture);\r\n            gl.texImage2D(\r\n              gl.TEXTURE_2D,\r\n              level,\r\n              internalFormat,\r\n              srcFormat,\r\n              srcType,\r\n              image\r\n            );\r\n\r\n            gl.texParameteri(\r\n              gl.TEXTURE_2D,\r\n              gl.TEXTURE_WRAP_S,\r\n              gl.CLAMP_TO_EDGE\r\n            );\r\n            gl.texParameteri(\r\n              gl.TEXTURE_2D,\r\n              gl.TEXTURE_WRAP_T,\r\n              gl.CLAMP_TO_EDGE\r\n            );\r\n            gl.texParameteri(\r\n              gl.TEXTURE_2D,\r\n              gl.TEXTURE_MAG_FILTER,\r\n              gl.NEAREST\r\n            );\r\n            gl.texParameteri(\r\n              gl.TEXTURE_2D,\r\n              gl.TEXTURE_MIN_FILTER,\r\n              gl.NEAREST\r\n            );\r\n\r\n            gl.texParameteri(\r\n              gl.TEXTURE_2D,\r\n              gl.TEXTURE_MIN_FILTER,\r\n              gl.LINEAR\r\n            );\r\n\r\n            this.activeTextures[index].size = {\r\n              width: image.width,\r\n              height: image.height\r\n            };\r\n\r\n            resolve(index);\r\n          };\r\n\r\n          image.onerror = error => {\r\n            reject(error);\r\n          };\r\n        }\r\n      );\r\n\r\n      gl.bindTexture(gl.TEXTURE_2D, null);\r\n    },\r\n    createProgram(gl, vertexShader, fragmentShader) {\r\n      const program = gl.createProgram();\r\n\r\n      if (!program) {\r\n        console.log(\"WebGLProgram is null.\");\r\n        return null;\r\n      }\r\n\r\n      gl.attachShader(program, vertexShader);\r\n      gl.attachShader(program, fragmentShader);\r\n\r\n      gl.linkProgram(program);\r\n\r\n      const success = gl.getProgramParameter(program, gl.LINK_STATUS);\r\n\r\n      if (!success) {\r\n        console.log(gl.getProgramInfoLog(program));\r\n        gl.deleteProgram(program);\r\n        return null;\r\n      }\r\n\r\n      return program;\r\n    },\r\n    createFramebufferTarget(gl, width, height) {\r\n      const target = {\r\n        framebuffer: gl.createFramebuffer(),\r\n        renderbuffer: gl.createRenderbuffer(),\r\n        texture: gl.createTexture()\r\n      };\r\n\r\n      // set up framebuffer\r\n      gl.bindTexture(gl.TEXTURE_2D, target.texture);\r\n      gl.texImage2D(\r\n        gl.TEXTURE_2D,\r\n        0,\r\n        gl.RGBA,\r\n        width,\r\n        height,\r\n        0,\r\n        gl.RGBA,\r\n        gl.UNSIGNED_BYTE,\r\n        null\r\n      );\r\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\r\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\r\n      gl.bindFramebuffer(gl.FRAMEBUFFER, target.framebuffer);\r\n      gl.framebufferTexture2D(\r\n        gl.FRAMEBUFFER,\r\n        gl.COLOR_ATTACHMENT0,\r\n        gl.TEXTURE_2D,\r\n        target.texture,\r\n        0\r\n      );\r\n\r\n      // set up renderbuffer\r\n      gl.bindRenderbuffer(gl.RENDERBUFFER, target.renderbuffer);\r\n      gl.renderbufferStorage(\r\n        gl.RENDERBUFFER,\r\n        gl.DEPTH_COMPONENT16,\r\n        width,\r\n        height\r\n      );\r\n      gl.framebufferRenderbuffer(\r\n        gl.FRAMEBUFFER,\r\n        gl.DEPTH_ATTACHMENT,\r\n        gl.RENDERBUFFER,\r\n        target.renderbuffer\r\n      );\r\n\r\n      // clean up\r\n      gl.bindTexture(gl.TEXTURE_2D, null);\r\n      gl.bindRenderbuffer(gl.RENDERBUFFER, null);\r\n      gl.bindFramebuffer(gl.FRAMEBUFFER, null);\r\n\r\n      return target;\r\n    },\r\n    createRenderTargets(gl) {\r\n      this.frontTarget = this.createFramebufferTarget(\r\n        gl,\r\n        this.canvasWidth,\r\n        this.canvasHeight\r\n      );\r\n      this.backTarget = this.createFramebufferTarget(\r\n        gl,\r\n        this.canvasWidth,\r\n        this.canvasHeight\r\n      );\r\n    },\r\n    compileScreenProgram(gl) {\r\n      const program = gl.createProgram();\r\n      const vs = this.createShader(gl, gl.VERTEX_SHADER, this.v);\r\n      const fs = this.createShader(gl, gl.FRAGMENT_SHADER, this.f);\r\n\r\n      if (program && vs && fs) {\r\n        gl.attachShader(program, vs);\r\n        gl.attachShader(program, fs);\r\n        gl.deleteShader(vs);\r\n        gl.deleteShader(fs);\r\n        gl.linkProgram(program);\r\n\r\n        if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\r\n          console.log(\r\n            \"VALIDATE_STATUS: \" +\r\n            gl.getProgramParameter(program, gl.VALIDATE_STATUS),\r\n            \"ERROR: \" + gl.getError()\r\n          );\r\n          return;\r\n        }\r\n        this.screenProgram = program;\r\n\r\n        gl.useProgram(this.screenProgram);\r\n        this.screenPositionAttributeLocation = gl.getAttribLocation(\r\n          this.screenProgram,\r\n          \"position\"\r\n        );\r\n        gl.enableVertexAttribArray(this.screenPositionAttributeLocation);\r\n      }\r\n    },\r\n    onMousemove(e) {\r\n      if (!this.canvas) {\r\n        return;\r\n      }\r\n      const rect = this.canvas.getBoundingClientRect();\r\n      const root = document.documentElement;\r\n      if (root) {\r\n        const left = rect.top + root.scrollLeft;\r\n        const top = rect.top + root.scrollTop;\r\n        this.mouse.x = (e.pageX - left) / this.size.width;\r\n        this.mouse.y = 1 - (e.pageY - top) / this.size.height;\r\n      }\r\n    },\r\n    onWebglcontextlost(event) {\r\n      console.log(\"onWebglcontextlost\");\r\n\r\n      event.preventDefault();\r\n      this.stopAnimate();\r\n    },\r\n    onWebglcontextrestored() {\r\n      console.log(\"onWebglcontextrestored\");\r\n\r\n      this.initGLSLCanvas();\r\n      this.animate();\r\n    }\r\n  },\r\n  computed: {\r\n    canvas() {\r\n      return this.$refs.canvas\r\n    },\r\n    canvasWidth() {\r\n      return this.size.width / this.quality\r\n    },\r\n    canvasHeight() {\r\n      return this.size.height / this.quality\r\n    }\r\n  },\r\n  watch: {\r\n    vertexShader() {\r\n      this.currentProgram = null\r\n    },\r\n    fragmentShader() {\r\n      this.currentProgram = null\r\n    },\r\n    activeExternalResources() {\r\n      this.currentProgram = null\r\n    },\r\n    size() {\r\n      this.createRenderTargets(this.getGL());\r\n    },\r\n    quality() {\r\n      this.createRenderTargets(this.getGL());\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initGLSLCanvas();\r\n\r\n    window.addEventListener(\"mousemove\", this.onMousemove);\r\n\r\n    // webglcontextlost error is often thrown on only Safari.\r\n    // https://www.khronos.org/webgl/wiki/HandlingContextLost\r\n    this.canvas.addEventListener(\r\n      \"webglcontextlost\",\r\n      this.onWebglcontextlost,\r\n      false\r\n    );\r\n    this.canvas.addEventListener(\r\n      \"webglcontextrestored\",\r\n      this.onWebglcontextrestored,\r\n      false\r\n    );\r\n\r\n    this.animate();\r\n  },\r\n  beforeDestroy() {\r\n    window.removeEventListener(\"mousemove\", this.onMousemove);\r\n\r\n    this.stopAnimate();\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GLSLCanvas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GLSLCanvas.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GLSLCanvas.vue?vue&type=template&id=8e078122&\"\nimport script from \"./GLSLCanvas.vue?vue&type=script&lang=js&\"\nexport * from \"./GLSLCanvas.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"glslCanvasContainer\" ref=\"glslCanvasContainer\">\n    <GLSLCanvas :size=\"canvasSize\"\n                :vertex-shader=\"vertexShader\"\n                :fragment-shader=\"fragmentShader\"\n                :active-external-resources=\"currentImage\"\n                :quality=\"2\" />\n  </div>\n</template>\n\nimport GLSLCanvas from \"@/components/GLSLCanvas\"\n\n<script>\nimport GLSLCanvas from \"@/components/GLSLCanvas\"\n\nconst VERTEX_SHADER_SOURCE = `attribute vec4 position;\nvoid main() {\n    gl_Position = position;\n}`\n\nconst FRAGMENT_SHADER_SOURCE = `precision highp float;\n\nuniform vec2 resolution;\nuniform float time;\nuniform vec2 mouse;\nuniform sampler2D backbuffer;\nuniform sampler2D channel0;\nuniform vec2 channelSize0;\n\n#define PI 3.14159265\n\nvec3 permute(vec3 x) { return mod(((x*34.0)+1.0)*x, 289.0); }\n\nfloat snoise(vec2 v){\n  const vec4 C = vec4(0.211324865405187, 0.366025403784439,\n           -0.577350269189626, 0.024390243902439);\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n  vec2 i1;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n  i = mod(i, 289.0);\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n  + i.x + vec3(0.0, i1.x, 1.0 ));\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy),\n    dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\nvoid main(void) {\n    vec2 uv = (gl_FragCoord.xy * 2.0 - resolution.xy) / min(resolution.x, resolution.y);\n    float f = fract(length(uv * 2.1 * fract(time * 0.1)*0.01));\n\n    float l = 1.0 * (length(uv) - time * 0.1);\n\n    uv = gl_FragCoord.xy / resolution.xy;\n\n    vec2 ratio = vec2(\n      min((resolution.x / resolution.y) / (channelSize0.x / channelSize0.y), 1.0),\n      min((resolution.y / resolution.x) / (channelSize0.y / channelSize0.x), 1.0)\n    );\n\n    uv = vec2(\n      uv.x * ratio.x + (1.0 - ratio.x) * 0.5,\n      uv.y * ratio.y + (1.0 - ratio.y) * 0.5\n    );\n\n    uv = mix(uv, uv * sin(l / 0.2 * PI), 0.005);\n\n    vec3 color = texture2D(channel0, uv).xyz;\n    color.b = 1.0;\n\n    gl_FragColor = vec4(color, 1.0);\n}`\n\nexport default {\n  name: 'GLSLCanvasContainer',\n  components: {GLSLCanvas},\n  props: {\n    images: Array\n  },\n  data() {\n    return {\n      index: 0,\n      canvasWidth: 0,\n      canvasHeight: 0\n    }\n  },\n  mounted() {\n    window.addEventListener(\"resize\", this.onWindowResized)\n    this.onWindowResized()\n\n    setInterval(() => {\n      this.index++\n      if (this.index >= this.images.length) {\n        this.index = 0\n      }\n    }, 5000)\n  },\n  beforeDestroy() {\n    window.removeEventListener(\"resize\", this.onWindowResized)\n  },\n  computed: {\n    currentImage() {\n      if (this.images.length === 0) {\n        return \"\"\n      }\n      return this.images[this.index]\n    },\n    canvasSize() {\n      return {\n        width: this.canvasWidth,\n        height: this.canvasHeight\n      }\n    },\n    vertexShader() {\n      return VERTEX_SHADER_SOURCE\n    },\n    fragmentShader() {\n      return FRAGMENT_SHADER_SOURCE\n    }\n  },\n  methods: {\n    onWindowResized() {\n      this.canvasWidth = this.$refs.glslCanvasContainer.clientWidth\n      this.canvasHeight = this.$refs.glslCanvasContainer.clientHeight\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"stylus\">\n.glslCanvasContainer\n  width 100%\n  height 100%\n\n  .glslCanvas\n    width 100%\n    height 100%\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GLSLCanvasContainer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GLSLCanvasContainer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GLSLCanvasContainer.vue?vue&type=template&id=4868da64&scoped=true&\"\nimport script from \"./GLSLCanvasContainer.vue?vue&type=script&lang=js&\"\nexport * from \"./GLSLCanvasContainer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GLSLCanvasContainer.vue?vue&type=style&index=0&id=4868da64&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4868da64\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\" class=\"app\">\n    <Images v-if=\"useStaticImages\" :items=\"items\" />\n    <GLSLCanvasContainer v-else :images=\"items\" />\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\"\nimport Images from \"@/components/Images\"\nimport GLSLCanvasContainer from \"@/components/GLSLCanvasContainer\"\n\nconst REQUEST_COUNT = 1\n\nexport default {\n  name: 'App',\n  components: {GLSLCanvasContainer, Images},\n  data() {\n    return {\n      useStaticImages: true,\n      items: [\n        \"image/img_1.jpg\",\n        \"image/img_2.jpg\",\n        \"image/img_3.jpg\",\n        \"image/img_4.jpg\",\n        \"image/img_5.jpg\",\n        \"image/img_6.jpg\",\n        \"image/img_7.png\",\n        \"image/img_8.jpg\",\n        \"image/img_9.jpg\",\n        \"image/img_10.jpg\"\n      ],\n      fetchCount: 0,\n      searchCondition: {\n        blue: {\n          query: \"calm sky\",\n          color: \"blue\",\n          lr: \"lang_ja\"\n        },\n        yellow: {\n          query: \"daytime sun\",\n          color: \"orange\",\n          lr: \"lang_ja\"\n        },\n        green: {\n          query: \"\",\n          color: \"green\",\n          lr: \"lang_ja\"\n        }\n      }\n    }\n  },\n  mounted() {\n    //   this.startFetchItems()\n  },\n  methods: {\n    async startFetchItems() {\n      await this.fetchItems()\n\n      if (this.fetchCount < REQUEST_COUNT) {\n        setTimeout(() => this.startFetchItems(), 2000)\n      }\n    },\n    async fetchItems() {\n      const apiKey = process.env.VUE_APP_API_API_KEY\n      const searchEngineId = process.env.VUE_APP_SEARCH_ENGINE_ID\n      const searchCondition = this.searchCondition.blue\n      const query = searchCondition.query\n      const count = 10  // maximum number is 10.\n      const start = this.items.length > 0 ? this.items.length + 1 : 0\n      const color = searchCondition.color\n      const size = \"large\"\n      const lr = searchCondition.lr\n\n      const response = await axios.get(\n        `${process.env.VUE_APP_API_ENDPOINT}?key=${apiKey}&cx=${searchEngineId}&q=${query}&searchType=image&num=${count}&imgDominantColor=${color}&imgSize=${size}&imgColorType=color&start=${start}&lr=${lr}`\n      )\n      const _items = response.data.items.map(item => {\n        return item.link\n      })\n\n      this.items.push(..._items)\n      this.fetchCount++\n    },\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n@require \"~@/assets/style/common\"\n\n.app\n  width 100%\n  height 100%\n  position fixed\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=d066b9fc&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=stylus&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GLSLCanvasContainer.vue?vue&type=style&index=0&id=4868da64&scoped=true&lang=stylus&\""],"sourceRoot":""}